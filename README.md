# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

Описание проекта  

Web-Larek — это веб-приложение, предназначенное для управления каталогом товаров, корзиной и оформлением заказов. Проект включает инструменты для динамической работы, чтобы пользователь мог посмотреть каталог товаров, добавить выбранные товары в корзину и оформить заказ.

Основной функционал приложения 

Главная страница:
-На главной странице отображается список товаров, который загружается с сервера.  
-Счётчик на кнопке корзины отображает общее количество товаров, добавленных в корзину.  
-Два модельных окна с карточкой товара и окном корзины, которые закрываются по клику вне модального окна, по клику на крестик.

Карточка товара:
-Отображение полной информации
-В модальном окне при нажатии на кнопку «Купить» товар добавляется в корзину

Корзина:
- В модальном окне отображается список товаров, добавленных в корзину:  
  - Указаны названия товаров и их стоимость.  
  - При нажатии на кнопку удаления товар удаляется из корзины.  
  - После удаления автоматически обновля.тся cуммарная стоимость товаров и счётчик товаров на кнопке корзины.  
  - При нажатии на активную кнопку «Оформить» открывается модальное окно для выбора способа оплаты и адреса доставки.  

Оформление заказа:
-Выбор способа оплаты осуществляется нажатием на кнопку «Далее»
-Валидация формы

Завершение заказа:
-При нажатии на кнопку оплаты происходит отправка запроса на сервер.
-После успешного завершения запроса корзина очищается, сбрасывается, счётчик товаров на кнопке корзины, происходит переход на модальное окно, подтверждающее оформление заказа.

Описание базовых классов и их компонентов.
### 1. Класс EventEmitter
   - Предназначение:  
     Обеспечивает работу с событиями приложения. Используется для передачи и обработки событий между компонентами.

   - Функции:  
     - Установка слушателей на события (on).  
     - Снятие слушателей с событий (off).  
     - Вызов слушателей при возникновении события (emit).

---

### 2. Класс CardItem
   Card:  
   - Предназначение:  
     Представляет структуру одного товара. Каждый экземпляр описывает конкретный товар, который может быть добавлен в корзину или удалён из неё.
     
   - Функции:  
     - Создание объекта товара с информацией (название, описание, категория, цена и др.).  
     - Изменение статуса товара (например, добавление или удаление из корзины).  

   - Свойства:  
      - id: string — идентификатор товара.  
      - title: string — название товара.  
      - description: string — описание товара.  
      - image: string — изображение товара.  
      - category: ILotCategory — категория товара.  
      - price: number — стоимость товара.  
      - isOrdered: boolean — признак добавления в заказ.  

   - Методы:  
     - placeInBasket: () => void — добавление товара в корзину.  
     - removeFromBasket: () => void — удаление товара из корзины.  

---

### 3. Класс Place
   - Предназначение:  
     Описывает нахождение товара с помощью состояния (isOrdered), а также позволяет управлять его добавлением или удалением в корзину.

   - Функции:  
     - Установка состояния товара (добавлен он в корзину или нет).  

   - Свойства:  
     - isOrdered: boolean — признак добавления товара в корзину.  

   - Методы:  
     - placeInBasket: () => void — добавляет товар в корзину.  
     - removeFromBasket: () => void — удаляет товар из корзины.  

---

### 4. Класс Basket
   - Предназначение:  
     Управляет содержимым корзины, её состоянием и подсчитывает итоговую стоимость товаров.

   - Функции:  
     - Добавление товара в корзину.  
     - Удаление товара из корзины.  
     - Подсчёт общей стоимости всех товаров.  
     - Управление счётчиком товаров на кнопке корзины.  

   - Свойства:  
     - list: HTMLElement[] — содержит список товаров в корзине.  
     - price: number — суммарная стоимость товаров в корзине.  

---

### 5. Класс Order
   - Предназначение:  
     Отвечает за весь процесс оформления заказа, включая проверку правильности данных и отправку информации на сервер.

   - Функции:  
     - Сохранение информации о заказе (выбранные товары, адрес, способ оплаты).  
     - Проверка данных формы (валидация).  
     - Отправка данных заказа на сервер.  
     - Очистка корзины после завершения заказа.  

   - Свойства:  
     - payment: CashType — тип оплаты (наличные, карта или неопределённое состояние).  
     - address: string — адрес доставки.  
     - email: string — электронная почта клиента.  
     - phone: string — телефон клиента.  
     - items: string — список товаров, выбранных для заказа (например, идентификаторы в виде строки).  

---

### 6. Класс AppState
   - Предназначение:  
     Служит точкой хранения основных состояний приложения. Позволяет взаимодействовать с каталогом, корзиной и заказами.

   - Функции:  
     - Хранение каталога товаров.  
     - Управление списком товаров, добавленных в корзину.  
     - Работа с текущим состоянием заказа.  
     - Проверка, добавлен ли товар в корзину.  
     - Очистка корзины и подсчёт стоимости товаров.

   - Свойства:  
     - catalog: ICardItem[] — список всех товаров (карточек).  
     - basket: ICardItem[] — товары, находящиеся в корзине.
     - order: ICardItem — статус текущей операции с заказом.  
     - preview: ICardItem — товар, который в данный момент просматривается.  

   - Методы:  
     - isLotInBasket(item: ICardItem): boolean — проверяет, находится ли товар в корзине.  
     - clearBasket(): void — очищает содержимое корзины.  
     - getTotalAmount(): number — возвращает общую сумму товаров в корзине.  
     - getBasketIds(): number — возвращает идентификаторы товаров в корзине.  
     - getBasketLength(): number — возвращает количество товаров в корзине.  
     - initOrder(): IOrder — инициализирует новый заказ.  

---

### 7. Класс IPage
   - Предназначение:  
     Определяет основные параметры страницы приложения, такие как состояние блокировки, хранилище и счётчик.

   - Функции:  
     - Хранение DOM-элементов страницы.  
     - Управление состоянием страницы (заблокирована или нет).  

   - Свойства:  
     - counter: number — счётчик (например, для товаров или количества действий).  
     - store: HTMLElement[] — список DOM-элементов, например карточек товаров.  
     - locked: boolean — флаг, определяющий, заблокирована ли страница.  

---

### 8. Класс IPageElements
   - Предназначение:  
     Хранит ссылки на основные элементы страницы. Используется для упрощения работы с DOM-элементами.

   - Свойства:  
     - counter: HTMLElement — элемент счётчика.  
     - wrapper: HTMLElement — обёртка всего содержимого.  
     - basket: HTMLElement — элемент корзины.  
     - store: HTMLElement — элемент, где выводится список товаров.  
